<html><head><title>ITS2.0 git hub write up</title><style type="text/css">ol{margin:0;padding:0}.c2{font-size:12pt;font-family:"Times New Roman";font-weight:bold}.c5{font-size:12pt;background-color:#ffffff;font-family:"Times New Roman"}.c21{list-style-type:decimal;margin:0;padding:0}.c13{list-style-type:disc;margin:0;padding:0}.c16{line-height:1.0;padding-top:11pt;padding-bottom:11pt}.c20{font-size:8pt;font-family:"Times New Roman"}.c4{padding-left:0pt;margin-left:36pt}.c6{font-size:10pt;font-family:"Times New Roman"}.c23{max-width:468pt;padding:72pt 72pt 72pt 72pt}.c15{color:inherit;text-decoration:inherit}.c9{font-size:12pt;font-family:"Times New Roman"}.c8{text-indent:36pt}.c18{margin-right:-72pt}.c12{color:#333333}.c22{line-height:1.0}.c11{background-color:#ffffff}.c1{height:11pt}.c24{text-align:center}.c0{direction:ltr}.c17{font-style:italic}.c14{color:#1155cc}.c10{margin-left:36pt}.c3{text-decoration:underline}.c7{font-weight:bold}.c19{margin-right:-67.5pt}.title{padding-top:0pt;line-height:1.15;text-align:left;color:#000000;font-size:21pt;font-family:"Trebuchet MS";padding-bottom:0pt}.subtitle{padding-top:0pt;line-height:1.15;text-align:left;color:#666666;font-style:italic;font-size:13pt;font-family:"Trebuchet MS";padding-bottom:10pt}li{color:#000000;font-size:11pt;font-family:"Arial"}p{color:#000000;font-size:11pt;margin:0;font-family:"Arial"}h1{padding-top:10pt;line-height:1.15;text-align:left;color:#000000;font-size:16pt;font-family:"Trebuchet MS";padding-bottom:0pt}h2{padding-top:10pt;line-height:1.15;text-align:left;color:#000000;font-size:13pt;font-family:"Trebuchet MS";font-weight:bold;padding-bottom:0pt}h3{padding-top:8pt;line-height:1.15;text-align:left;color:#666666;font-size:12pt;font-family:"Trebuchet MS";font-weight:bold;padding-bottom:0pt}h4{padding-top:8pt;line-height:1.15;text-align:left;color:#666666;font-size:11pt;text-decoration:underline;font-family:"Trebuchet MS";padding-bottom:0pt}h5{padding-top:8pt;line-height:1.15;text-align:left;color:#666666;font-size:11pt;font-family:"Trebuchet MS";padding-bottom:0pt}h6{padding-top:8pt;line-height:1.15;text-align:left;color:#666666;font-style:italic;font-size:11pt;font-family:"Trebuchet MS";padding-bottom:0pt}</style></head><body class="c11 c23"><p class="c0"><span class="c2 c3">Test Suite How-To Guide</span></p><p class="c1 c0"><span class="c2 c3"></span></p><p class="c0"><span class="c9">There are three parts to the test suite:</span></p><ol class="c21" start="1"><li class="c4 c0"><span class="c9">Conformance testing for HTML &amp; XML</span></li><li class="c4 c0"><span class="c9">Conformance testing for NIF</span></li><li class="c4 c0"><span class="c9">Input file validation</span></li></ol><p class="c1 c0"><span class="c2 c3"></span></p><p class="c0"><span class="c2 c3">1. Conformance testing for HTML &amp; XML</span></p><p class="c0"><span class="c5">This conformance testing is used to determine whether ITS 2.0 implementations meet the ITS 2.0 specification standard. The test suite has a set of test documents for both XML and HTML which are then used to validate the different ITS 2.0 constructs available for each data category. There are a total of 225 test files spread across all 19 data categories for both HTML and XML. </span></p><p class="c1 c0"><span class="c2 c3"></span></p><p class="c0"><span class="c2 c3">1.1 How to use the test suite?</span></p><p class="c1 c0"><span class="c2 c3"></span></p><p class="c0"><img height="301" src="images/image00.png" width="483"></p><p class="c0 c24"><span class="c2 c3">Figure 1: Testsuite processing &nbsp;Input to Output</span></p><p class="c1 c0"><span class="c2 c3"></span></p><p class="c0"><span class="c9">The validation of the input files is done through processing the input file so that it outputs a file to match a corresponding gold standard output file. The gold standard was develop to be easy to understand &nbsp;and implement for conformance testers. The gold standard output format was developed by the ITS 2.0 working group. Figure 1 above describes the test suite files process.</span></p><p class="c1 c0"><span class="c9"></span></p><p class="c0"><span class="c2 c3">1.2 Gold Standard output specifications details:</span></p><p class="c0"><span class="c9">&nbsp;The gold standard output files have the following characteristics:</span></p><p class="c0"><span class="c9">&nbsp;</span></p><ol class="c13" start="1"><li class="c4 c0"><span class="c9">Every element and attribute path from the XML and HTML file are listed (apart from the content within script elements in HTML)</span></li></ol><p class="c1 c0"><span class="c6"></span></p><ol class="c13" start="2"><li class="c4 c0"><span class="c9">The output has to be tab-delimited format:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></li></ol><p class="c0 c10 c19"><span class="c6 c12 c11">/html/body[1]/p[1]/span[2]&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;annotatorsRef=&quot;text-analysis|http://enrycher.ijs.si&quot;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;taConfidence=&quot;0.5&quot;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;taIdent=&quot;301467919&quot;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;taSource=&quot;Wordnet3.0&quot;</span></p><p class="c1 c0 c10 c19"><span class="c9"></span></p><ol class="c13" start="3"><li class="c4 c0"><span class="c9">The attributes within elements have to&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; be in alphabetical order:</span></li></ol><p class="c0 c10"><span class="c6">/doc/header[1]/its:rules[1]/its:locQualityIssueRule[2]&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p><p class="c0 c10"><span class="c6">/doc/header[1]/its:rules[1]/its:locQualityIssueRule[2]/@locQualityIssueComment</span></p><p class="c0 c10"><span class="c6">/doc/header[1]/its:rules[1]/its:locQualityIssueRule[2]/@locQualityIssuePro&#64257;leRef</span></p><p class="c0 c10"><span class="c6">/doc/header[1]/its:rules[1]/its:locQualityIssueRule[2]/@locQualityIssueSeverity</span></p><p class="c0 c10"><span class="c6">/doc/header[1]/its:rules[1]/its:locQualityIssueRule[2]/@locQualityIssueType</span></p><p class="c0 c10"><span class="c6">/doc/header[1]/its:rules[1]/its:locQualityIssueRule[2]/@locQualityIssuesRef</span></p><p class="c0 c10"><span class="c6">/doc/header[1]/its:rules[1]/its:locQualityIssueRule[2]/@selector</span></p><p class="c1 c0"><span class="c9"></span></p><ol class="c13" start="4"><li class="c4 c0"><span class="c9">The rules output also have to be in alphabetical orders:</span></li></ol><p class="c0 c10 c19"><span class="c6">/</span><span class="c6 c12 c11">/html/body[1]/p[1]/span[2]&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;annotatorsRef=&quot;text-analysis|http://enrycher.ijs.si&quot;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;taConfidence=&quot;0.5&quot;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;taIdent=&quot;301467919&quot;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;taSource=&quot;Wordnet3.0&quot;</span></p><p class="c8 c1 c0"><span class="c6"></span></p><ol class="c13" start="1"><li class="c4 c0"><span class="c9">The rules output can&rsquo;t have Pointer in it but it has to have its equivalent (unless it is in the target pointer data category then it must display targetpointer=&rdquo;....&rdquo; and the pointer details):&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></li></ol><p class="c8 c0"><span class="c2">Incorrect:</span></p><p class="c8 c0 c18"><span class="c6">/doc/para[1]/issue[2] &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;locQualityIssueTypePointer=&ldquo;misspelling&ldquo;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;locQualityIssuesRefPointer=&quot;#l1234&ldquo;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p><p class="c8 c0"><span class="c2">Correct:</span><span class="c9">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p><p class="c8 c0"><span class="c6">/doc/para[1]/issue[2]&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;locQualityIssueType=&ldquo;misspelling&ldquo;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;locQualityIssuesRef=&quot;#l1235&quot;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p><p class="c1 c0 c8"><span class="c20"></span></p><ol class="c13" start="1"><li class="c4 c0"><span class="c9">The rules output for local html rules have to be like their global counterparts:</span></li></ol><p class="c8 c0"><span class="c2">Incorrect:</span></p><p class="c8 c0"><span class="c6">/doc/p[1] &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;its-loc-quality-issue-type=&ldquo;misspelling&ldquo;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;locQualityIssuesRef=&quot;#l1235&ldquo;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p><p class="c8 c0"><span class="c2">Correct:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p><p class="c8 c0"><span class="c6">/doc/p[1] &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;locQualityIssueType=&ldquo;misspelling&ldquo; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;locQualityIssuesRef=&quot;#l1235&quot;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p><p class="c1 c0"><span class="c9"></span></p><p class="c0"><span class="c2 c3">1.3 How gold standard output is compared to implementors output?</span></p><p class="c0"><span class="c9">The output of the implementors is located in the folder </span><span class="c2">ITS-2.0-Testsuite/its2.0/</span><span class="c2 c11">outputimplementors </span><span class="c5">which</span><span class="c2">&nbsp;</span><span class="c9">can be tested against the gold standard output files located in the </span><span class="c2">ITS-2.0-Testsuite/its2.0/expected </span><span class="c9">folder. This can be done simply through doing a diff of the implementors output files and the corresponding gold standard output files. To automate this process for implementors a test suite dashboard was created which did the following tasks :</span></p><ol class="c13" start="1"><li class="c4 c0"><span class="c9">Help to track the process of implementers in relation to the tests in which they were committed to complete</span><span class="c2 c17">&nbsp;(indicated on the dashboard via </span><span class="c2 c12 c11 c17">N/A = the implementer did not commit to run the test)</span><span class="c5 c12">.</span></li><li class="c4 c0"><span class="c5 c12">Help to track if the implementors output file matches the corresponding gold standard output file</span><span class="c2 c12 c11 c17">&nbsp;(indicated on the dashboard via fnf: the output file from the implementer has not been found OK = the output file is identical to the reference output file)</span><span class="c5 c12">.</span></li><li class="c4 c0"><span class="c5 c12">Help to track if the output file that is in the output folder for a particular tests doesn&rsquo;t match the corresponding gold standard output file</span><span class="c2 c12 c11">&nbsp;</span><span class="c2 c12 c11 c17">(indicated on the dashboard via error = an error occurred, e.g. the output file is not available or it is not identical to the reference output file. Move the mouse over error to see details)</span><span class="c5 c12">.</span></li><li class="c4 c0"><span class="c5 c12">Help to track if the implementor has not committed an output file for a corresponding test </span><span class="c2 c12 c11 c17">(indicated on the dashboard via fnf: the output file from the implementer has not been found)</span><span class="c5 c12">.</span></li><li class="c4 c0"><span class="c5 c12">The dashboard can also track how many tests a particular implementor has left to run.</span></li></ol><p class="c1 c0"><span class="c3 c7"></span></p><p class="c0"><span class="c2 c3">1.4 </span><span class="c2 c3">Validating Output Test Files</span></p><p class="c0 c22"><span class="c5">To validate the implementors output files the testsuite dashboard has to be compiled so that a diff across all files in the </span><span class="c2 c11">ITS-2.0-Testsuite/its2.0/outputimplementors </span><span class="c5">&nbsp;folder can be done</span><span class="c2 c11">&nbsp;</span><span class="c5">against the corresponding files in the &nbsp;gold standard output </span><span class="c2 c11">ITS-2.0-Testsuite/ITS2.0/expected</span><span class="c5">&nbsp; folder. The test suite dashboard can be compiled by doing the following:</span></p><ol class="c13" start="1"><li class="c16 c4 c0"><span class="c5">Download saxon.jar from here: </span><span class="c5"><a class="c15" href="https://dl.dropbox.com/u/65779171/saxon.jar">https://dl.dropbox.com/u/65779171/saxon.jar</a></span></li><li class="c16 c4 c0"><span class="c5">Then use this command (Linux/Mac/Windows): java -jar /path/of/file/saxon.jar testsuiteMaster.xml testsuiteDashboard.xsl -o:testSuiteDashboard.html</span></li><li class="c16 c4 c0"><span class="c5">Upload newly compiled testsuiteDashboard.html to the git hub</span></li><li class="c4 c0 c16"><span class="c5">Check the state of your files in the related data categories on this web page: </span><span class="c5"><a class="c15" href="http://htmlpreview.github.com/?https://raw.github.com/finnle/ITS-2.0-Testsuite/master/its2.0/testSuiteDashboard.html">http://htmlpreview.github.com/?https://raw.github.com/finnle/ITS-2.0-Testsuite/master/its2.0/testSuiteDashboard.html</a></span></li></ol><p class="c0"><span>The files for the test suite dashboard are as follows:</span></p><ol class="c13" start="1"><li class="c4 c0"><span class="c7">testsuiteMaster.xml - </span><span>has a list of the implementer&rsquo;s and the tests that they are involved in and aids in the creation of the testSuiteDashboard.html</span></li><li class="c4 c0"><span class="c7">testsuiteDashboard.xsl - </span><span>does the diffs between the implementer&rsquo;s output and the gold standard output.</span></li><li class="c4 c0"><span class="c7">testSuiteDashboard.xml - </span><span>gives information on the errors between the diff&rsquo;s for the implementors output and the gold standard output</span></li><li class="c4 c0"><span class="c7">testSuiteDashboard.html -</span><span>&nbsp;the html test suite dashboard which is located live </span><span class="c14 c3"><a class="c15" href="http://htmlpreview.github.io/?https://raw.github.com/finnle/ITS-2.0-Testsuite/master/its2.0/testSuiteDashboard.html">here</a></span><span>&nbsp;</span></li></ol><p class="c1 c0"><span class="c5"></span></p><p class="c1 c0"><span class="c5"></span></p><p class="c0"><span class="c3 c7">2. Conformance testing for </span><span class="c3 c7">NIF</span><span class="c3">&nbsp;</span><span class="c3">&nbsp;</span></p><p class="c0"><span class="c9">This part of the conformance testing is used to determine whether ITS 2.0 implementations of NIF 2.0 meet the ITS 2.0 specification standard for NIF usage. &nbsp;The NIF test suite has a set of test documents for HTML for the </span><span class="c2">Localisation Quality Issue</span><span class="c9">&nbsp;data category which are then used to validate the different aspects of ITS 2.0 and NIF against various constructs available to the Localisation Quality Issue data category. There are a total of 11 files only for HTML in the Localisation Quality Issue data category. The input files are located in the</span><span class="c9">&nbsp;</span><span class="c2">ITS-2.0-Testsuite/its2.0/nif-conversion/input </span><span class="c9">folder.</span></p><p class="c0 c1"><span class="c2 c3"></span></p><p class="c0"><span class="c9">The validation of the input files is done through processing the input file so that it outputs a file to match a gold standard output file. The gold standard for NIF is RDF output using the ITS 2.0 ontology. The gold standard output for NIF can be reached by following the NIF conversion algorithm discussed in the ITS 2.0 specification located </span><span class="c9 c14 c3"><a class="c15" href="http://www.w3.org/TR/its20/#conversion-to-nif">here</a></span><span class="c9">. </span></p><p class="c1 c0"><span class="c9"></span></p><p class="c0"><span class="c2 c3">2.1 How gold standard &nbsp;NIF output is compared to implementors output?</span></p><p class="c0"><span class="c9">The NIF output files are compared via the use of SPARQL queries done over the implementers RDF/NIF output files (.ttl). If the SPARQL queries are successful then the NIF output files are correct and meet the gold standard. The implementer&rsquo;s NIF test output files are located in the </span><span class="c2">ITS-2.0-Tes</span><span class="c2">t</span><span class="c2">suite/its2</span><span class="c2">.</span><span class="c2">0/nif-conversion/expected </span><span class="c9">folder.</span></p><p class="c1 c0"><span class="c2 c3"></span></p><p class="c0"><span class="c2 c3">2.2 Validating NIF output files</span></p><p class="c0"><span class="c7">Prerequisites:</span><span>&nbsp;Java and Unix Shell</span></p><ol class="c13" start="1"><li class="c4 c0"><span>create a temporary folder for output files (hence called $datafolder)</span></li><li class="c4 c0"><span>read ITS files from &quot;its2.0/nif-conversion/input/&quot; one by one, convert to NIF and write output files in turtle to $datafolder</span></li><li class="c4 c0"><span>go to directory cd its2.0/nif-conversion/sparqltest</span></li><li class="c4 c0"><span>run : ./executeAllTests.sh ../relative/pathTo/$datafolder</span></li></ol><p class="c1 c0"><span></span></p><p class="c0"><span class="c7">Explanations of output:</span></p><ol class="c13" start="1"><li class="c4 c0"><span>If no message appears between &quot;Running: test1.sparql&quot; and &quot;Done: test1.sparql&quot; the test was successful.</span></li><li class="c4 c0"><span>Otherwise the output filename and additional debug output is shown</span></li></ol><p class="c1 c0"><span class="c3 c7"></span></p><p class="c0"><span class="c3 c7">3. Input file Validation</span></p><p class="c0"><span class="c11">This part of the test suite is vital and it is the testing of the HTML and XML input files to see if they are &nbsp;valid in accordance to the ITS 2.0 schema specification for XML and HTML. More information about this validator can be found </span><span class="c11 c14 c3"><a class="c15" href="http://validator.nu/?doc=http%3A%2F%2Fwww.w3.org%2FTR%2F2012%2FWD-its20-20121206%2Fexamples%2Fhtml5%2FEX-term-html5-local-1.html&amp;schema=http%3A%2F%2Fs.validator.nu%2Fhtml5-its.rnc+http%3A%2F%2Fs.validator.nu%2Fhtml5%2Fassertions.sch+http%3A%2F%2Fc.validator.nu%2Fall%2F">here</a></span><span class="c11">&nbsp;and </span><span class="c11 c14 c3"><a class="c15" href="http://about.validator.nu/">also here</a></span><span class="c11">.</span></p><p class="c1 c0"><span class="c11"></span></p><p class="c0"><span class="c3 c7">3.1 Validating Input Test Files</span></p><p class="c0"><span>The following sections detail how to validate the test suite input files both HTML and XML.</span></p><p class="c1 c0"><span></span></p><p class="c0"><span class="c3 c7">3.1.1 Validating XML test files</span></p><ol class="c13" start="1"><li class="c4 c0"><span class="c9">Download and install Ant from </span><span class="c9 c3 c14"><a class="c15" href="http://ant.apache.org/">http://ant.apache.org/</a></span></li><li class="c0 c4"><span class="c9">Run &#39;ant validate-xml&#39; command in its2.0 directory</span></li></ol><p class="c1 c0"><span class="c9"></span></p><p class="c0"><span class="c3 c7">3.1.2 Validating HTML test files</span></p><ol class="c13" start="1"><li class="c4 c0"><span class="c9">Download and install Ant from </span><span class="c9 c14 c3"><a class="c15" href="http://ant.apache.org/">http://ant.apache.org/</a></span></li><li class="c4 c0"><span class="c9">Download html5-its-tools from </span><span class="c9 c14 c3"><a class="c15" href="https://github.com/kosek/html5-its-tools">https://github.com/kosek/html5-its-tools</a></span></li><li class="c4 c0"><span class="c9">Modify its2.0/build.properties to point to your local copy of html5-its-tools</span></li><li class="c4 c0"><span class="c9">Run &#39;ant validate-html&#39; command in its2.0 directory</span></li></ol><p class="c1 c0"><span class="c9"></span></p><p class="c0"><span class="c3 c7">3.1.3 Validating all test files</span></p><ol class="c13" start="1"><li class="c4 c0"><span class="c9">Make sure that XML and HTML validation described above works for you</span></li><li class="c4 c0"><span class="c9">Run &#39;ant&#39; command in its2.0 directory</span></li><li class="c4 c0"><span class="c9">Please note that HTML schema doesn&#39;t supports RDFa so RDFa attributes are reported as errors</span></li><li class="c4 c0"><span class="c9">Please note that currently Schematron validation is not performed so some errors are not detected</span></li></ol><p class="c1 c0"><span class="c11"></span></p><p class="c0"><span class="c3 c7">4. Xliff Sample</span></p><p class="c0"><span>In addition to conformance testing and validation of XML and HTML files it provides </span><span>XLIFF samples</span><span>. These are not used in conformance testing, but demonstrate the representation of ITS 2.0. metadata in XLIFF. These XLIFF files are located in</span><span class="c7">&nbsp;</span><span class="c7">ITS-2.0-Testsuite</span><span class="c7">/</span><span class="c7">its2.0/</span><span class="c7">xliffsamples </span><span>folder of the github.</span></p></body></html>